{"version":3,"sources":["../../src/pages/service-new/service-new.module.ts","../../src/pages/service-new/service-new.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ServiceNewPage } from './service-new';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ServiceNewPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ServiceNewPage),\r\n  ],\r\n})\r\nexport class ServiceNewPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/service-new/service-new.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\n\r\n\r\n//-service\r\nimport { SaleService } from '../../services/sale.service';\r\nimport { OfferService } from '../../services/offer.service';\r\nimport { UserService } from '../../services/user.service';\r\n\r\n/**\r\n * Generated class for the ServiceNewPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-service-new',\r\n  templateUrl: 'service-new.html',\r\n})\r\nexport class ServiceNewPage {\r\n\r\n  //-- default\r\n  imgUserDefault =\"assets/img/User/UserService.png\";\r\n\r\n  //-data\r\n  DataService:any=[];\r\n  DataUser:any= [];\r\n  user:string;\r\n\r\n //-datos BD\r\n status=\"Waiting for the professional\";\r\n\r\n  //-subcrip\r\n  userSubs:any;\r\n\r\n  //-load data\r\n  datasService:any;\r\n  dataService:any;\r\n  keyOffer:any;\r\n  worker:any;\r\n  userActual:any;\r\n  sale:any;\r\n  information:any;\r\n  serviceCode:any;\r\n\r\n  //--load vista\r\n  imgUser:any;\r\n  nameUser:any;\r\n  addresUser:any;\r\n  phoneUser:any;\r\n\r\n \r\n\r\n  constructor(\r\n    public navCtrl: NavController, public navParams: NavParams,\r\n    private saleService: SaleService, \r\n    private offerService : OfferService,\r\n    private userService : UserService,\r\n  ) {    \r\n    //-ej\r\n    this.serviceCode = '0986548605';\r\n    //-data\r\n    this.DataService = this.navParams.get('datos');\r\n    this.user = this.DataService['idUser'];\r\n    this.serviceCode = this.DataService['idOff'].substring(6);\r\n    console.log(this.user);\r\n    console.log(this.DataService);\r\n    //-localStorage\r\n    this.userActual = localStorage.getItem('verificacion');\r\n    console.log(this.userActual);\r\n\r\n    this.userInfo();\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad ServiceNewPage');\r\n  }\r\n  goServiceJob(){\r\n    this.setStatus();\r\n    // let DataService = {'datos':{\"dataService\":this.dataService,\"offer\":this.keyOffer,\"win\":this.worker}};\r\n    console.log(this.DataService);\r\n    console.log(this.DataUser);\r\n    \r\n    let dataService = {'service':this.DataService,\"user\":this.DataUser};\r\n  \t// this.navCtrl.setRoot(,DataService);\r\n    this.navCtrl.setRoot('ServiceJobPage',dataService);\r\n    \r\n  }\r\n\r\n setStatus(){\r\n  this.saleService.setStatus(this.userActual,this.keyOffer,'In progress');\r\n  this.offerService.setStatus(this.keyOffer,'In progress');\r\n }\r\n  userInfo(){\r\n    // this.imgUser=this.imgUserDefault;\r\n    // this.nameUser = 'Alejandro Albello';\r\n    // this.addresUser = 'Calle 123 #45 - 65 Ed Miramar Apartamento BB Torre 2';\r\n    // this.phoneUser = '(+57) 5-300 811 45 65';\r\n    console.log('UserInfo');\r\n    console.log(this.user);\r\n    // this.userSubs=this.userService.getUser(this.user).subscribe(\r\n    this.userService.getUser(this.user).subscribe(\r\n    // this.userSubs=this.userService.getUser('user_1504881933094').subscribe(\r\n      (userDB)=>{\r\n        console.log(userDB);\r\n        if(userDB){\r\n          this.nameUser = userDB['user_username'];\r\n          let addresU = userDB['user_address'];\r\n          for(let key in addresU){\r\n            this.addresUser = addresU[key]['addr_info'];\r\n          }\r\n          this.phoneUser = userDB['user_tel'];\r\n          console.log(userDB['user_picture']);\r\n          if(userDB['user_picture'] == undefined || userDB['user_picture'] == null || userDB['user_picture'] == \"\" ){\r\n            this.imgUser=this.imgUserDefault;\r\n          }else{\r\n            this.imgUser=userDB['user_picture'];\r\n          }\r\n          this.DataUser = {\"nameUser\":this.nameUser,\"address\":this.addresUser,\"tel\":this.phoneUser,\"img\":this.imgUser};\r\n        }\r\n        // this.userSubs.unsubscribe();\r\n      });\r\n   \r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/service-new/service-new.ts"],"sourceRoot":""}