{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/home/home.ts"],"names":[],"mappings":"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","file":"23.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { HomePage } from './home';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    HomePage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(HomePage),\r\n  ],\r\n})\r\nexport class HomePageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController } from 'ionic-angular';\r\n\r\n/**\r\n * Generated class for the HomePage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\nimport { ProfessionalsService } from '../../services/professionals.service';\r\n\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport * as firebase from 'firebase/app';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-home',\r\n  templateUrl: 'home.html',\r\n})\r\nexport class HomePage {\r\n  userData = null;\r\n  mensage :string = '';\r\n  displayName;  \r\n  providerFaceBook:any;\r\n  userDataUpdate:any;\r\n  constructor(\r\n    public navCtrl: NavController, \r\n    // private facebook:  Facebook,\r\n    private professionalsService : ProfessionalsService,\r\n    public afAuth: AngularFireAuth\r\n  ) {\r\n    //-identifica y redirecciona usuario logeado.\r\n    // this.usuarioLogeado();\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad HomePage');\r\n  }\r\n\r\n  facebookir(){\r\n    let goPagePrehome:boolean = false;\r\n    let userDB:any;\r\n    var provider = new firebase.auth.FacebookAuthProvider();\r\n    provider.addScope('email');\r\n    firebase.auth().signInWithPopup(provider)\r\n      .then(res => {\r\n        console.log(res);\r\n        // console.info(JSON.stringify(res));\r\n        // console.log(res.user.email);\r\n        // console.log('res.additionalUserInfo.profile.email');\r\n        // console.log(res.additionalUserInfo.profile.email);\r\n        //console.log(res);\r\n        let getProfesionals=this.professionalsService.getProfessionals()\r\n        .subscribe((Jobers) => {\r\n          // console.log(Jobers);\r\n          Jobers.forEach((Job) =>{\r\n            // console.log(Job);\r\n            // console.log(Job['user_email']);\r\n            if(res.additionalUserInfo.providerId == \"facebook.com\"){\r\n              // console.info(' additionUser facebook');\r\n              if(Job['user_email'] == res.additionalUserInfo.profile.email){\r\n                console.info('Find User Datos');\r\n                // console.log('res.additionalUserInfo.profile.email');\r\n                // console.log(res.additionalUserInfo.profile.email);\r\n                // console.log(res.additionalUserInfo.providerId);\r\n                console.log(Job);\r\n                userDB = Job;\r\n                goPagePrehome= true;\r\n              }\r\n            }\r\n          });\r\n          console.log(userDB);\r\n          console.log(goPagePrehome);\r\n          if(goPagePrehome != false){\r\n            this.goNextPagePrehome(userDB);\r\n          }else{\r\n            this.singup();\r\n          }\r\n          getProfesionals.unsubscribe();\r\n        });\r\n      });\r\n  }\r\n  goNextPagePrehome(datos:any){\r\n    console.log(datos);\r\n    // //console.log(datos['$key']);\r\n    // this.userDataUpdate ={ \"email\":datos['user_email'],\"name\":datos['user_name'],\"pais\":datos['user_pais'],\"password\":datos['user_password'],\"picture\":datos['user_picture'],\"state\":datos['user_state'],\"tel\":datos['user_tel'],\"username\":datos['user_username'],\"verificacion\":datos['$key'],\"zipcode\":datos['user_zipcode']};\r\n    // //console.log(this.userDataUpdate);\r\n    // let Data = {'datos':this.userDataUpdate}\r\n    // this.navCtrl.setRoot('ShowPage',Data);\r\n    this.navCtrl.setRoot('ShowPage');\r\n  }\r\n\r\n \tlogin(){\r\n \t\tthis.navCtrl.push('LoginPage');\r\n \t}\r\n \tsingup(){\r\n \t\tthis.navCtrl.push('SingupPage');\r\n   }\r\n\r\n   \r\n  usuarioLogeado(){\r\n    // let userDBLoad:any;\r\n    // let goPagePrehomeLoad = false;\r\n    // let homeStatus=this.afAuth.authState.subscribe( userAuth => {\r\n    //   if (userAuth){\r\n    //         console.info('find user home login');\r\n    //         let email=  userAuth.providerData[\"0\"].email;\r\n    //         let Userexists= this.userService.getUserEmailPerfil(email);\r\n    //         Userexists.then((users) => {\r\n    //           users.forEach((user) =>{\r\n    //             if(user != undefined && user != null){\r\n    //                 userDBLoad = user;\r\n    //                 goPagePrehomeLoad= true;\r\n    //                 console.log(goPagePrehomeLoad);\r\n    //                 if(goPagePrehomeLoad){\r\n    //                   this.goNextPagePrehomeFace(userDBLoad);\r\n    //                   // this.goNextPagePrehomeFace();\r\n    //                 }\r\n    //             }\r\n    //           });\r\n    //         });\r\n    //   } else {\r\n    //     console.info('find user home login - no');\r\n    //   }\r\n    // });\r\n    // homeStatus.unsubscribe();\r\n  }\r\n  goNextPagePrehomeFace(datos:any){\r\n  // goNextPagePrehomeFace(){\r\n  //   this.userDataUpdate ={ \"email\":datos['user_email'],\"name\":datos['user_name'],\"pais\":datos['user_pais'],\"password\":datos['user_password'],\"picture\":datos['user_picture'],\"state\":datos['user_state'],\"tel\":datos['user_tel'],\"username\":datos['user_username'],\"verificacion\":datos['$key'],\"zipcode\":datos['user_zipcode']};\r\n  //  let Data = {'datos':this.userDataUpdate}\r\n  //   this.navCtrl.setRoot('ShowPage',Data);\r\n    this.navCtrl.setRoot('ShowPage');\r\n  } \r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}