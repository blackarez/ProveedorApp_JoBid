{"version":3,"sources":["../../src/pages/show/show.module.ts","../../src/pages/show/show.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ShowPage } from './show';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ShowPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ShowPage),\r\n  ],\r\n})\r\nexport class ShowPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/show/show.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams,Platform } from 'ionic-angular';\r\n\r\n\r\n//-services\r\nimport { OfferService } from '../../services/offer.service';\r\nimport { ProfessionalsService } from '../../services/professionals.service';\r\nimport { UserService } from '../../services/user.service';\r\n\r\nimport { Geolocation } from '@ionic-native/geolocation';\r\n\r\n/**\r\n * Generated class for the ShowPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-show',\r\n  templateUrl: 'show.html',\r\n})\r\nexport class ShowPage {\r\n  //-vista data\r\n  imgDefault:string;\r\n  imgDescripcionDefault:string;\r\n  offer:any;\r\n  nameUser:string;\r\n  Description:string;\r\n  //--vista toogle\r\n  labelToogle:string;\r\n  StatusProvider:boolean;\r\n  //-data\r\n  ListService:any=[];\r\n  ListContracts:any=[];\r\n  UserActual:string;\r\n  lat:any;\r\n  lng:any;\r\n\r\n  //-firebase\r\n  listOffer:any;\r\n  serviceSubs:any;\r\n  userSubs:any;\r\n  \r\n  constructor(public navCtrl: NavController, public navParams: NavParams,\r\n    private offerService: OfferService, private userService: UserService,\r\n    private professionalsService : ProfessionalsService,\r\n    private geo: Geolocation, private platform: Platform,\r\n  ) {\r\n    this.UserActual = localStorage.getItem('verificacion');\r\n    console.log(this.UserActual);\r\n    //-default value\r\n    this.imgDefault = 'assets/img/User/UserService.png';\r\n    this.imgDescripcionDefault = 'assets/img/User/FotoServiceInfo.JPG';\r\n    this.offer  = '100';\r\n    this.nameUser  = 'Alejando Alberto'; \r\n    this.Description = 'Cleaning ...'; \r\n    //--default value toggle \r\n    this.labelToogle= 'Offline';\r\n    this.StatusProvider= false;\r\n    this.getUserLocationGeolocation();\r\n  }\r\n  \r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad ShowPage');\r\n    // console.log(localStorage);\r\n  }\r\n\r\n  goInfo(item){\r\n    this.userSubs.unsubscribe();\r\n    this.serviceSubs.unsubscribe();\r\n    this.listOffer.unsubscribe();\r\n    let Data = {'datos':item};\r\n    this.navCtrl.push('ServiceInfoPage',Data);\r\n  }\r\n\r\n  public notify() {\r\n    console.log(\"Toggled: \"+ this.StatusProvider);\r\n    if(this.StatusProvider == false){\r\n      this.labelToogle =\"Offline\";\r\n    }else{\r\n      this.labelToogle =\"Online\";\r\n      this.showServices();\r\n    }\r\n  }\r\n\r\n  showServices(){\r\n   this.listOffer = this.offerService.getOfferNew().subscribe( (list)=>{\r\n      this.ListService=[];\r\n      console.log(list);\r\n      this.getServiceProvider(list);\r\n    });\r\n  }\r\n\r\n  getServiceProvider(BDListOffer){\r\n    this.serviceSubs=this.professionalsService.getServicesProfessional(this.UserActual).subscribe(\r\n      (BDListServicesProvider)=>{\r\n        console.log(BDListServicesProvider);\r\n        this.professionalsService.getStar(this.UserActual).subscribe(\r\n          (starProvider) => {\r\n            console.log('starP');\r\n            console.log(starProvider);\r\n            if(starProvider['$value']){\r\n                this.showListData(BDListOffer,BDListServicesProvider,starProvider['$value']);\r\n              }\r\n            }\r\n        );\r\n    });\r\n  }\r\n\r\n  showListData(BDListOffer,BDListServicesProvider,stars){\r\n    let imagen;\r\n    for(let keySP in BDListServicesProvider){\r\n\r\n      \r\n\r\n      // console.log(BDListServicesProvider[keySP]);\r\n      // console.log('BDListServicesProvider[keySP]serv_service:'+BDListServicesProvider[keySP]['serv_service']);\r\n      console.log('p-BDList.[serv_subService]'+BDListServicesProvider[keySP]['serv_subService']);\r\n      for(let keys in BDListOffer){\r\n\r\n        console.log('bdoff-star'+Number(BDListOffer[keys].Star));\r\n        console.log('pro-star'+ Number(stars));\r\n        \r\n          if( Number(stars) >= Number(BDListOffer[keys].Star)){\r\n            console.info('star ok');\r\n            console.log(BDListOffer[keys]);\r\n            console.log('o-BDListOffer.categoria'+BDListOffer[keys].Clasificacion.categoria);\r\n            // console.log(BDListOffer[keys].Clasificacion.distancia);\r\n            if(BDListOffer[keys].UserLocacion){\r\n              // console.log(BDListOffer[keys].UserLocacion.latitud);\r\n              // console.log(BDListOffer[keys].UserLocacion.longitud);\r\n              let distanceKilo = this.getDistanceKilometros(Number(this.lat),Number(this.lng),Number(BDListOffer[keys].UserLocacion.latitud),Number(BDListOffer[keys].UserLocacion.longitud));\r\n              // console.log(distanceKilo);\r\n              let distanceMillas = this.getConvertKilometrosMillas(distanceKilo);\r\n              // console.log(distanceMillas);\r\n              // console.log(this.getNumeroDistanceOffer(BDListOffer[keys].Clasificacion.distancia,distanceMillas));\r\n              console.log('filtros');\r\n              console.log('off:'+BDListOffer[keys].Clasificacion.categoria);\r\n              console.log('listPro:'+BDListServicesProvider[keySP]['serv_subService']);\r\n              console.log('listPro:'+BDListServicesProvider[keySP]['Star']);\r\n              console.log(this.getNumeroDistanceOffer(BDListOffer[keys].Clasificacion.distancia,distanceMillas));\r\n              \r\n              if( BDListOffer[keys].Clasificacion.categoria ==  BDListServicesProvider[keySP]['serv_subService'] && true ==this.getNumeroDistanceOffer(BDListOffer[keys].Clasificacion.distancia,distanceMillas) ){\r\n              \r\n                let InfmaxOffer=BDListOffer[keys].Clasificacion.informacion.maxOffer;\r\n                let InfmoreInformacion = BDListOffer[keys].Clasificacion.informacion.moreInformation;\r\n                let InfFoto = BDListOffer[keys].Clasificacion.informacion.foto;\r\n                let key = BDListOffer[keys]['$key'];\r\n                let InfshortMoreInformacion = InfmoreInformacion.substr(0,10)+'...';\r\n                if(InfFoto = \"\" || InfFoto == undefined || InfFoto == null || InfFoto){\r\n                  InfFoto = this.imgDescripcionDefault;\r\n                }\r\n                // console.log(BDListOffer[key].User);\r\n                this.userSubs = this.userService.getUser(BDListOffer[keys].User).subscribe( (user)=>{\r\n                  // console.log(user);\r\n                  // console.log(user['user_picture']);\r\n                  // console.log('-'+user['user_picture']+'-');\r\n                  // console.log('-'+user['prof_star']+'-');\r\n                  // if(user['user_picture']){\r\n                    \r\n                    if(user['user_picture'] == \"\" || user['user_picture'] == undefined || user['user_picture'] == null || user['user_picture']){\r\n                      imagen = this.imgDefault;\r\n                    }else{ imagen = user['user_picture'];}\r\n                    // console.log(imagen);\r\n                    this.ListService.push({\"name\":user['user_username'],\"img\":imagen,\"sale\":InfmaxOffer,\"infoShow\":InfshortMoreInformacion,\"info\":InfmoreInformacion,\"idOff\":key,\"idUser\":user['$key']});\r\n                    console.log(this.ListService);\r\n\r\n                  // }\r\n                  \r\n                });\r\n                // this.ListService=list;\r\n          \r\n              }\r\n            }\r\n\r\n          }\r\n\r\n        }\r\n      }\r\n    \r\n\r\n  }\r\n  \r\n  private getUserLocationGeolocation(){\r\n    this.platform.ready().then(() => {\r\n      var options = {\r\n        timeout: 5000\r\n      };\r\n      this.geo.getCurrentPosition(options).then(resp => {\r\n        console.log('geoLocation');\r\n        console.info(resp.coords.latitude);\r\n        console.info(resp.coords.longitude);\r\n        this.lat = resp.coords.latitude;\r\n        this.lng = resp.coords.longitude;\r\n\r\n      }).catch(() => {\r\n        console.log(\"Error to get location\");\r\n      });\r\n    });\r\n  }\r\n\r\n  getDistanceKilometros(lat1,lon1,lat2,lon2){\r\n    console.log('getDistanceKilometros');\r\n    console.log(lat1);\r\n    console.log(lat2);\r\n    console.log(lat2 - lat1);\r\n    \r\n    let rad = function(x) {return x*Math.PI/180;}\r\n    var R = 6378.137; //Radio de la tierra en km\r\n    var dLat = rad( lat2 - lat1 );\r\n    // var dLat = rad( 0);\r\n    var dLong = rad( lon2 - lon1 );\r\n    // var dLong = rad( 0);\r\n    // console.log('lat2 - lat1'+( lat2 - lat1 ));\r\n    // console.log('lon2 - lon1'+(lon2 - lon1));\r\n    // console.log(dLat);\r\n    // console.log(dLong);\r\n    var a = Math.sin(dLat/2) * Math.sin(dLat/2) + Math.cos(rad(lat1)) * Math.cos(rad(lat2)) * Math.sin(dLong/2) * Math.sin(dLong/2);\r\n    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\r\n    var d = R * c;\r\n    return d.toFixed(3); //Retorna tres decimales\r\n  }\r\n\r\n  getConvertKilometrosMillas(kilo){\r\n    return kilo * 0.62137;\r\n  }\r\n\r\n  getNumeroDistanceOffer(distanceOffer,distanciaMilla){\r\n    // console.log(distanceOffer);\r\n    // console.log(distanciaMilla);\r\n    let dentroDeDistancia=false;\r\n    switch(distanceOffer){\r\n      case \"1M\":{\r\n        if(1 >= distanciaMilla){dentroDeDistancia= true; console.log('distanciaOK');\r\n        }\r\n        break;\r\n      }\r\n      case \"2M\":{\r\n        if(2 >= distanciaMilla){dentroDeDistancia= true; console.info('distanciaOK');\r\n        }\r\n        break;\r\n      }\r\n      case \"3M\":{\r\n        if(3 >= distanciaMilla){dentroDeDistancia= true; console.info('distanciaOK');\r\n        }\r\n        break;\r\n      }\r\n      case \"4M\":{\r\n        if(4 >= distanciaMilla){dentroDeDistancia= true; console.info('distanciaOK');\r\n        }\r\n        break;\r\n      }\r\n      case \"5M\":{\r\n        if(5 >= distanciaMilla){dentroDeDistancia= true; console.info('distanciaOK');\r\n        }\r\n        break;\r\n      }\r\n      case \"5MM\":{\r\n        dentroDeDistancia= true; console.info('distanciaOK');\r\n        break;\r\n      }\r\n      default: { \r\n        console.log(\"Invalid choice\"); \r\n        break;              \r\n      }\r\n    }\r\n    return dentroDeDistancia;\r\n    // return false;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/show/show.ts"],"sourceRoot":""}