{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/home/home.ts"],"names":[],"mappings":"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","file":"27.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { HomePage } from './home';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    HomePage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(HomePage),\r\n  ],\r\n})\r\nexport class HomePageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController } from 'ionic-angular';\r\nimport { Facebook } from '@ionic-native/facebook';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport * as firebase from 'firebase/app';\r\n// import { auth } from 'firebase';\r\n// import { FirebaseAppName } from 'angularfire2';\r\n// import { FirebaseApp } from 'angularfire2/firebase.app.module';\r\n// import { firebaseConfig } from '../../app/app.module';\r\n\r\n//service\r\nimport { ProfessionalsService } from '../../services/professionals.service';\r\n/**\r\n * Generated class for the HomePage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n\r\n\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-home',\r\n  templateUrl: 'home.html',\r\n})\r\nexport class HomePage {\r\n  userData = null;\r\n  mensage :string = '';\r\n  displayName;  \r\n  providerFaceBook:any;\r\n  userDataUpdate:any;\r\n  x:any=[];\r\n  //camera\r\n  uploads: any=[];\r\n  constructor(\r\n    public navCtrl: NavController, \r\n    private fb:  Facebook,\r\n    private professionalsService : ProfessionalsService,\r\n    public afAuth: AngularFireAuth,\r\n  ) {\r\n    //-identifica y redirecciona usuario logeado.\r\n    this.usuarioLogeado();\r\n    this.professionalsService.getIni();\r\n    // this.audio();\r\n  }\r\n  \r\nisBigEnough(element) {\r\n  // return element >= 15;\r\n  console.log(element);\r\n}\r\n  // audio(){\r\n  //   this.nativeAudio.preloadSimple('uniqueId1', 'assets/timbre.mp3').then(this.onSuccess, this.onError);\r\n  //   this.nativeAudio.play('uniqueId1').then(this.onSuccess, this.onError);\r\n  // }\r\n  // onSuccess(){\r\n  //   console.log(' success');\r\n  // }\r\n  // onError(){\r\n  //   console.log('error');\r\n  // }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad HomePage');\r\n    \r\n    // let people = ['jamie', 'jack', 'isaac'];\r\n    // console.log(people); // 1\r\n    // let jackIndex = people.findIndex(x => x === 'isaac');\r\n    // console.log(jackIndex); // 1\r\n    // let numbers = [1, 3,4];\r\n    // console.log(numbers);\r\n    // let oddNumber = numbers.find(x => x == 4);\r\n    // console.log(oddNumber); // 1\r\n    // this.x = [{ \"id\": 1 }, { \"id\": -2 }, { \"id\": 3 }];\r\n    // console.log(this.x);\r\n    // let y = this.x.find(x => x.id == 2 );\r\n    // console.log(y); // 1\r\n    // if(y != undefined){\r\n    //   console.log(y.id); // 1\r\n    // }\r\n    // let z = this.x.findIndex(x => x.id == 2 );\r\n    // console.log(z); // 1\r\n  }\r\n\r\n  facebookir(){\r\n    // let goPagePrehome:boolean = true;\r\n    // let userDB:any;\r\n    this.fb.login(['public_profile','email'])\r\n    .then((res) => {\r\n      console.log('Logged into Facebook!', res);\r\n      alert(JSON.stringify(res));\r\n      let credencial = firebase.auth.FacebookAuthProvider.credential(res.authResponse.accessToken);\r\n      firebase.auth().signInWithCredential(credencial).then(\r\n        (info)=>{\r\n          alert(JSON.stringify(info));\r\n          alert(JSON.stringify(info.providerData['0']['email']));\r\n          alert(JSON.stringify(info['email']));\r\n          // alert(JSON.stringify(info.providerData['0']['email']));\r\n          // alert(JSON.stringify(info.providerData));\r\n          console.log(info);\r\n          console.log(info.providerData.email);\r\n          console.log(info.providerData);\r\n          if(info.providerData['0']['email'] != undefined){\r\n            // this.userService.getUserEmailPerfil(info.providerData['0']['email']).subscribe(\r\n            //   (emailBD)=>{\r\n            //     alert(JSON.stringify(emailBD));\r\n            //     if(emailBD == info.providerData.email){\r\n            //     }\r\n            //   });\r\n            this.singup();\r\n            // let getProfesionals=this.professionalsService.getProfessionals().subscribe((Jobers) => {\r\n            //   // alert(JSON.stringify(Jobers));\r\n            //   console.log(Jobers);\r\n            //   Jobers.forEach((Job) =>{\r\n            //   console.log('getProfesionals-S home');\r\n            //     //console.log(user);\r\n            //     // if(user['user_email'] == res.user.email){\r\n            //     //     // console.log('res.user.email');\r\n            //     //     // console.log(user);\r\n            //     //     userDB = user;\r\n            //     //     goPagePrehome= true;\r\n            //     // }\r\n            //     //dentro de res.user -> hay otros datos de usuario -> email?\r\n            //     //if(user.providerData[\"0\"].providerId == \"facebook.com\"){\r\n            //         // if(Job['prof_email'] == info.providerData['0']['email']){\r\n            //         //   // console.log('res.additionalUserInfo.profile.email');\r\n            //         //   // console.log(user);\r\n            //         //   console.log(Job);\r\n            //         //   userDB = Job;\r\n            //         //   goPagePrehome= false;\r\n            //         // }\r\n            //     //}\r\n            //   });\r\n            //   // console.log(userDB);\r\n            //   // console.log(goPagePrehome);\r\n            //   // if(goPagePrehome == false){\r\n            //   //   // this.goNextPagePrehome(userDB);\r\n            //   // }else{\r\n            //   //   this.singup();\r\n            //   // }\r\n    \r\n            //   getProfesionals.unsubscribe();\r\n            //   console.log('getProfesionals-US home');\r\n            // });\r\n          }\r\n        }\r\n      ).catch(e => {\r\n        console.log('Error signInWithCredential', e);\r\n        // alert(JSON.stringify(e));\r\n        // alert('Error signInWithCredential');\r\n      });\r\n    })\r\n    .catch(e => {\r\n      console.log('Error zing into Facebook', e)\r\n      // alert(JSON.stringify(e));\r\n    });\r\n  }\r\n\r\n  // facebookir(){\r\n  //   let goPagePrehome:boolean = false;\r\n  //   let userDB:any;\r\n  //   var provider = new firebase.auth.FacebookAuthProvider();\r\n  //   provider.addScope('email');\r\n  //   firebase.auth().signInWithPopup(provider)\r\n  //     .then(res => {\r\n  //       console.log(res);\r\n  //       // console.info(JSON.stringify(res));\r\n  //       // console.log(res.user.email);\r\n  //       // console.log('res.additionalUserInfo.profile.email');\r\n  //       // console.log(res.additionalUserInfo.profile.email);\r\n  //       //console.log(res);\r\n  //       let getProfesionals=this.professionalsService.getProfessionals().subscribe((Jobers) => {\r\n  //         // console.log(Jobers);\r\n  //         Jobers.forEach((Job) =>{\r\n  //         console.log('getProfesionals-S home');\r\n  //           // console.log(Job);\r\n  //           // console.log(Job['user_email']);\r\n  //           if(res.additionalUserInfo.providerId == \"facebook.com\"){\r\n  //             // console.info(' additionUser facebook');\r\n  //             if(Job['prof_email'] == res.additionalUserInfo.profile.email){\r\n  //               console.info('Find User Datos');\r\n  //               // console.log('res.additionalUserInfo.profile.email');\r\n  //               // console.log(res.additionalUserInfo.profile.email);\r\n  //               // console.log(res.additionalUserInfo.providerId);\r\n  //               console.log(Job);\r\n  //               userDB = Job;\r\n  //               goPagePrehome= true;\r\n  //             }\r\n  //           }\r\n  //         });\r\n  //         console.log(userDB);\r\n  //         console.log(goPagePrehome);\r\n  //         if(goPagePrehome != false){\r\n  //           this.goNextPagePrehome(userDB);\r\n  //         }else{\r\n  //           this.singup();\r\n  //         }\r\n\r\n  //         getProfesionals.unsubscribe();\r\n  //         console.log('getProfesionals-US home');\r\n  //       });\r\n  //     });\r\n  // }\r\n\r\n  goNextPagePrehome(datos:any){\r\n    console.log(datos);\r\n    //console.log(datos['$key']);\r\n    this.userDataUpdate ={ \"email\":datos['user_email'],\"name\":datos['user_name'],\"pais\":datos['user_pais'],\"password\":datos['user_password'],\"picture\":datos['user_picture'],\"state\":datos['user_state'],\"tel\":datos['user_tel'],\"username\":datos['user_username'],\"verificacion\":datos['$key'],\"zipcode\":datos['user_zipcode']};\r\n    let Data = {'datos':this.userDataUpdate}\r\n    this.navCtrl.setRoot('ShowPage',Data);\r\n    // this.navCtrl.setRoot('ShowPage');\r\n  }\r\n\r\n \tlogin(){\r\n \t\tthis.navCtrl.push('LoginPage');\r\n \t}\r\n \tsingup(){\r\n \t\tthis.navCtrl.push('SingupPage');\r\n   }\r\n\r\n   \r\n   usuarioLogeado(){\r\n    this.afAuth.authState.subscribe( userAuth => {\r\n        console.log('find user menu');\r\n        console.log(userAuth);\r\n        if(userAuth){\r\n          let email=  userAuth.providerData[\"0\"].email;\r\n          console.log(email);\r\n          let Userexists= this.professionalsService.getProfessionalExists(email).subscribe( (User) => {\r\n            console.log('User Logueado');\r\n            console.log(User);\r\n            if(User['0']){\r\n              this.goNextPagePrehome(User['0']);\r\n            }\r\n            Userexists.unsubscribe();\r\n          });\r\n        }\r\n    });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}