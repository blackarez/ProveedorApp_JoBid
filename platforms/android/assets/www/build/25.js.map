{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/home/home.ts"],"names":[],"mappings":"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","file":"25.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { HomePage } from './home';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    HomePage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(HomePage),\r\n  ],\r\n})\r\nexport class HomePageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController } from 'ionic-angular';\r\nimport { LocalNotifications } from '@ionic-native/local-notifications';\r\n\r\n/**\r\n * Generated class for the HomePage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\nimport { ProfessionalsService } from '../../services/professionals.service';\r\n\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport * as firebase from 'firebase/app';\r\n\r\n// import { NativeAudio } from '@ionic-native/native-audio';\r\n\r\n// import { Camera, CameraOptions } from '@ionic-native/camera';\r\n// import { storage } from 'firebase';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-home',\r\n  templateUrl: 'home.html',\r\n})\r\nexport class HomePage {\r\n  userData = null;\r\n  mensage :string = '';\r\n  displayName;  \r\n  providerFaceBook:any;\r\n  userDataUpdate:any;\r\n\r\n  //camera\r\n  uploads: any=[];\r\n  constructor(\r\n    public navCtrl: NavController, \r\n    // private facebook:  Facebook,\r\n    private professionalsService : ProfessionalsService,\r\n    public afAuth: AngularFireAuth,\r\n    private localNotifications: LocalNotifications,\r\n    // private camera: Camera,    \r\n    // private nativeAudio: NativeAudio,\r\n  ) {\r\n    //-identifica y redirecciona usuario logeado.\r\n    this.usuarioLogeado();\r\n    // this.audio();\r\n  }\r\n\r\n  // audio(){\r\n  //   this.nativeAudio.preloadSimple('uniqueId1', 'assets/timbre.mp3').then(this.onSuccess, this.onError);\r\n  //   this.nativeAudio.play('uniqueId1').then(this.onSuccess, this.onError);\r\n  // }\r\n  // onSuccess(){\r\n  //   console.log(' success');\r\n  // }\r\n  // onError(){\r\n  //   console.log('error');\r\n  // }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad HomePage');\r\n  }\r\n\r\n  facebookir(){\r\n    let goPagePrehome:boolean = false;\r\n    let userDB:any;\r\n    var provider = new firebase.auth.FacebookAuthProvider();\r\n    provider.addScope('email');\r\n    firebase.auth().signInWithPopup(provider)\r\n      .then(res => {\r\n        console.log(res);\r\n        // console.info(JSON.stringify(res));\r\n        // console.log(res.user.email);\r\n        // console.log('res.additionalUserInfo.profile.email');\r\n        // console.log(res.additionalUserInfo.profile.email);\r\n        //console.log(res);\r\n        let getProfesionals=this.professionalsService.getProfessionals().subscribe((Jobers) => {\r\n          // console.log(Jobers);\r\n          Jobers.forEach((Job) =>{\r\n          console.log('getProfesionals-S home');\r\n            // console.log(Job);\r\n            // console.log(Job['user_email']);\r\n            if(res.additionalUserInfo.providerId == \"facebook.com\"){\r\n              // console.info(' additionUser facebook');\r\n              if(Job['user_email'] == res.additionalUserInfo.profile.email){\r\n                console.info('Find User Datos');\r\n                // console.log('res.additionalUserInfo.profile.email');\r\n                // console.log(res.additionalUserInfo.profile.email);\r\n                // console.log(res.additionalUserInfo.providerId);\r\n                console.log(Job);\r\n                userDB = Job;\r\n                goPagePrehome= true;\r\n              }\r\n            }\r\n          });\r\n          console.log(userDB);\r\n          console.log(goPagePrehome);\r\n          if(goPagePrehome != false){\r\n            this.goNextPagePrehome(userDB);\r\n          }else{\r\n            this.singup();\r\n          }\r\n\r\n          getProfesionals.unsubscribe();\r\n          console.log('getProfesionals-US home');\r\n        });\r\n      });\r\n  }\r\n  goNextPagePrehome(datos:any){\r\n    console.log(datos);\r\n    //console.log(datos['$key']);\r\n    this.userDataUpdate ={ \"email\":datos['user_email'],\"name\":datos['user_name'],\"pais\":datos['user_pais'],\"password\":datos['user_password'],\"picture\":datos['user_picture'],\"state\":datos['user_state'],\"tel\":datos['user_tel'],\"username\":datos['user_username'],\"verificacion\":datos['$key'],\"zipcode\":datos['user_zipcode']};\r\n    //console.log(this.userDataUpdate);\r\n    let Data = {'datos':this.userDataUpdate}\r\n    this.navCtrl.setRoot('ShowPage',Data);\r\n    this.navCtrl.setRoot('ShowPage');\r\n  }\r\n\r\n \tlogin(){\r\n \t\tthis.navCtrl.push('LoginPage');\r\n \t}\r\n \tsingup(){\r\n \t\tthis.navCtrl.push('SingupPage');\r\n   }\r\n\r\n   \r\n   usuarioLogeado(){\r\n    this.afAuth.authState.subscribe( userAuth => {\r\n        console.log('find user menu');\r\n        console.log(userAuth);\r\n        if(userAuth){\r\n          let email=  userAuth.providerData[\"0\"].email;\r\n          console.log(email);\r\n          let Userexists= this.professionalsService.getProfessionalExists(email).subscribe( (User) => {\r\n            console.log('User Logueado');\r\n            console.log(User);\r\n            if(User['0']){\r\n              this.goNextPagePrehome(User['0']);\r\n            }\r\n            Userexists.unsubscribe();\r\n          });\r\n        }\r\n    });\r\n  }\r\n// usuarioLogeado(){\r\n    // let userDBLoad:any;\r\n    // let goPagePrehomeLoad = false;\r\n    // let homeStatus=this.afAuth.authState.subscribe( userAuth => {\r\n    //   if (userAuth){\r\n    //         console.info('find user home login');\r\n    //         let email=  userAuth.providerData[\"0\"].email;\r\n    //         let Userexists= this.userService.getUserEmailPerfil(email);\r\n    //         Userexists.then((users) => {\r\n    //           users.forEach((user) =>{\r\n    //             if(user != undefined && user != null){\r\n    //                 userDBLoad = user;\r\n    //                 goPagePrehomeLoad= true;\r\n    //                 console.log(goPagePrehomeLoad);\r\n    //                 if(goPagePrehomeLoad){\r\n    //                   this.goNextPagePrehomeFace(userDBLoad);\r\n    //                   // this.goNextPagePrehomeFace();\r\n    //                 }\r\n    //             }\r\n    //           });\r\n    //         });\r\n    //   } else {\r\n    //     console.info('find user home login - no');\r\n    //   }\r\n    // });\r\n    // homeStatus.unsubscribe();\r\n  // }\r\n  // goNextPagePrehome(datos){\r\n  //   this.userDataUpdate ={ \"email\":datos['user_email'],\"name\":datos['user_name'],\"pais\":datos['user_pais'],\"password\":datos['user_password'],\"picture\":datos['user_picture'],\"state\":datos['user_state'],\"tel\":datos['user_tel'],\"username\":datos['user_username'],\"verificacion\":datos['$key'],\"zipcode\":datos['user_zipcode']};\r\n  //  let Data = {'datos':this.userDataUpdate}\r\n  //   this.navCtrl.setRoot('ShowPage',Data);\r\n\r\n  // }\r\n\r\n  \r\n  // async  clickCamara(){\r\n  //   console.log('clickCamara');\r\n  //  try{\r\n\r\n  \r\n  //   const options: CameraOptions = {\r\n  //     quality: 60,\r\n  //     targetHeight: 100,\r\n  //     targetWidth: 100,\r\n  //     destinationType: this.camera.DestinationType.DATA_URL,\r\n  //     encodingType: this.camera.EncodingType.JPEG,\r\n  //     mediaType: this.camera.MediaType.PICTURE\r\n  //   }\r\n  //   // console.log(options);\r\n  //   const result = await this.camera.getPicture(options);\r\n  //   // alert(result);\r\n  //   const image = 'data:image/jpeg;base64,' + result;\r\n  //   const picture = storage().ref('pictures');\r\n  //   let UploadTask = picture.putString(image,'data_url');\r\n    \r\n  //   alert(UploadTask);\r\n  //   // console.log(JSON.stringify(UploadTask));\r\n  //   UploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,\r\n  //     (snapshot) =>  {\r\n  //       // upload in progress\r\n    \r\n  //     },\r\n  //     (error) => {\r\n  //       // upload failed\r\n  //       console.log(error)\r\n  //     },\r\n  //     () => {\r\n  //       // upload success\r\n  //       this.uploads.url = UploadTask.snapshot.downloadURL;\r\n  //       // this.saveFileData(upload)\r\n  //       console.log(this.uploads.url);\r\n        \r\n  //     }\r\n  //   );\r\n  // } catch(e){\r\n  //   console.error(e);\r\n  //   alert('error');\r\n  //   alert(e);\r\n  //  }\r\n  // }\r\n  notification(){\r\n    this.localNotifications.schedule({\r\n      id: 1,\r\n      text: 'simple notificacion',\r\n      sound: 'file://assets/notificacion.mp3',\r\n      icon: 'file://assets/icon.png',\r\n      smallIcon : 'res://mipmap-xhdpi/icon',\r\n      // icon : 'assets/icon.png',\r\n      // smallIcon : 'res://icon',\r\n      // sound: isAndroid? 'file://sound.mp3': 'file://beep.caf',\r\n      // data: { secret: 'mensage' }\r\n    });\r\n  } \r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}