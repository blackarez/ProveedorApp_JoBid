{"version":3,"sources":["../../src/pages/gallery/gallery.module.ts","../../src/pages/gallery/gallery.ts"],"names":[],"mappings":"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","file":"26.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { GalleryPage } from './gallery';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    GalleryPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(GalleryPage),\r\n  ],\r\n})\r\nexport class GalleryPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/gallery/gallery.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\n// import { Validators, FormBuilder, FormGroup } from '@angular/forms';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\n\r\n//service \r\n// import { CameraService } from '../../services/camera.service';\r\nimport { ProfessionalsService } from '../../services/professionals.service';\r\nimport { Camera, CameraOptions } from '@ionic-native/camera';\r\nimport { storage } from 'firebase';\r\n\r\nimport * as firebase from 'firebase/app';\r\n\r\n\r\n/**\r\n * Generated class for the GalleryPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-gallery',\r\n  templateUrl: 'gallery.html',\r\n})\r\nexport class GalleryPage {\r\n  //-data\r\n  keyService:any;\r\n  UserActual:any;\r\n  //-form\r\n  private gallery : FormGroup;\r\n\r\n  //view\r\n  fotoA:any; \r\n  fotoB:any; \r\n  fotoC:any; \r\n  fotoD:any; \r\n  constructor(public navCtrl: NavController, public navParams: NavParams,\r\n    private formBuilder : FormBuilder, \r\n    private camera : Camera, \r\n    private professionalsService : ProfessionalsService,\r\n    // private cameraService : CameraService,\r\n  ) {\r\n    this.keyService = this.navParams.get('datos');\r\n    console.log(this.keyService);\r\n    this.UserActual = localStorage.getItem('verificacion');\r\n    // this.loadService();\r\n    this.getForm();\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad GalleryPage');\r\n  }\r\n\r\n  goService(){\r\n    //-guardar las fotos del servicio\r\n    let DataGallery = {\"fotoA\":this.fotoA,\"fotoB\":this.fotoB,\"fotoC\":this.fotoC,\"fotoD\":this.fotoD,};\r\n    this.professionalsService.setInfoServiceUserGallery(this.UserActual,DataGallery,this.keyService);\r\n    this.navCtrl.pop();\r\n  }\r\n\r\n  fotoGaleria(foto){\r\n    switch (foto) {\r\n      case 'A':\r\n        console.log('fotoA');\r\n        this.camaraFotoA(this.UserActual+'/'+this.keyService+'/GalleryA');       \r\n        break;\r\n        case 'B':\r\n        console.log('fotoB');\r\n        this.camaraFotoB(this.UserActual+'/'+this.keyService+'/GalleryB');       \r\n        break;\r\n        case 'C':\r\n        console.log('fotoC');\r\n        this.camaraFotoC(this.UserActual+'/'+this.keyService+'/GalleryC');       \r\n        break;\r\n        case 'D':\r\n        console.log('fotoD');\r\n        this.camaraFotoD(this.UserActual+'/'+this.keyService+'/GalleryD');       \r\n        break;\r\n      \r\n      default:\r\n        break;\r\n    }\r\n  }\r\n  getForm(){\r\n    this.gallery = this.formBuilder.group({\r\n      fotoA : [''],\r\n      fotoB: [''],\r\n      fotoC: [''],\r\n      fotoD: [''],\r\n    });\r\n    this.professionalsService.getGalleryService(this.UserActual,this.keyService).subscribe(\r\n      (GalleryB)=>{\r\n        console.log(GalleryB);\r\n        this.fotoA = GalleryB.prof_galleryA;\r\n        this.fotoB = GalleryB.prof_galleryB;\r\n        this.fotoC = GalleryB.prof_galleryC;\r\n        this.fotoD = GalleryB.prof_galleryD;\r\n      }\r\n    ).unsubscribe();\r\n  }\r\n\r\n  //-camara\r\n  async  camaraFotoA(file){\r\n    console.log('clickCamara');\r\n    try{\r\n      const options: CameraOptions = {\r\n        quality: 60,\r\n        // targetHeight: 100,\r\n        // targetWidth: 100,\r\n        destinationType: this.camera.DestinationType.DATA_URL,\r\n        encodingType: this.camera.EncodingType.JPEG,\r\n        mediaType: this.camera.MediaType.PICTURE\r\n      }\r\n      // console.log(options);\r\n      const result = await this.camera.getPicture(options);\r\n      // alert(result);\r\n      const image = 'data:image/jpeg;base64,' + result;\r\n      const picture = storage().ref(file);\r\n      let UploadTask = picture.putString(image,'data_url');\r\n      \r\n      // alert(UploadTask);\r\n      // console.log(JSON.stringify(UploadTask));\r\n      UploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,\r\n        (snapshot) =>  {},\r\n        (error) => { console.log(error)  },\r\n        () => { let url = UploadTask.snapshot.downloadURL;\r\n          console.log(url);\r\n          this.fotoA = url;\r\n        }\r\n      );\r\n    } catch(e){ console.error(e);}\r\n  }\r\n\r\n  async  camaraFotoB(file){\r\n    console.log('clickCamara');\r\n    try{\r\n      const options: CameraOptions = {\r\n        quality: 60,\r\n        // targetHeight: 100,\r\n        // targetWidth: 100,\r\n        destinationType: this.camera.DestinationType.DATA_URL,\r\n        encodingType: this.camera.EncodingType.JPEG,\r\n        mediaType: this.camera.MediaType.PICTURE\r\n      }\r\n      const result = await this.camera.getPicture(options);\r\n      const image = 'data:image/jpeg;base64,' + result;\r\n      const picture = storage().ref(file);\r\n      let UploadTask = picture.putString(image,'data_url');\r\n      UploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,\r\n        (snapshot) =>  {},\r\n        (error) => { console.log(error)  },\r\n        () => { let url = UploadTask.snapshot.downloadURL;\r\n          console.log(url);\r\n          this.fotoB = url;\r\n        }\r\n      );\r\n    } catch(e){ console.error(e);}\r\n  }\r\n\r\n  async  camaraFotoC(file){\r\n    console.log('clickCamara');\r\n    try{\r\n      const options: CameraOptions = {\r\n        quality: 60,\r\n        // targetHeight: 100,\r\n        // targetWidth: 100,\r\n        destinationType: this.camera.DestinationType.DATA_URL,\r\n        encodingType: this.camera.EncodingType.JPEG,\r\n        mediaType: this.camera.MediaType.PICTURE\r\n      }\r\n      const result = await this.camera.getPicture(options);\r\n      const image = 'data:image/jpeg;base64,' + result;\r\n      const picture = storage().ref(file);\r\n      let UploadTask = picture.putString(image,'data_url');\r\n      UploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,\r\n        (snapshot) =>  {},\r\n        (error) => { console.log(error)  },\r\n        () => { let url = UploadTask.snapshot.downloadURL;\r\n          console.log(url);\r\n          this.fotoC = url;\r\n        }\r\n      );\r\n    } catch(e){ console.error(e);}\r\n  }\r\n\r\n  async  camaraFotoD(file){\r\n    console.log('clickCamara');\r\n    try{\r\n      const options: CameraOptions = {\r\n        quality: 60,\r\n        // targetHeight: 100,\r\n        // targetWidth: 100,\r\n        destinationType: this.camera.DestinationType.DATA_URL,\r\n        encodingType: this.camera.EncodingType.JPEG,\r\n        mediaType: this.camera.MediaType.PICTURE\r\n      }\r\n      const result = await this.camera.getPicture(options);\r\n      const image = 'data:image/jpeg;base64,' + result;\r\n      const picture = storage().ref(file);\r\n      let UploadTask = picture.putString(image,'data_url');\r\n      UploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,\r\n        (snapshot) =>  {},\r\n        (error) => { console.log(error)  },\r\n        () => { let url = UploadTask.snapshot.downloadURL;\r\n          console.log(url);\r\n          this.fotoD = url;\r\n        }\r\n      );\r\n    } catch(e){ console.error(e);}\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/gallery/gallery.ts"],"sourceRoot":""}